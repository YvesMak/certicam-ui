<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Injection Simple</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-header {
            background: #007ACC;
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Test d'injection DOM simple</h1>
    <p>Cette page va tester l'injection DOM pure sans NavbarLoader</p>
    
    <button onclick="testSimpleInjection()">Test Injection Simple</button>
    <button onclick="testNavbarHtmlInjection()">Test Injection navbar.html</button>
    
    <div id="result" style="margin-top: 20px; padding: 20px; background: #f5f5f5; border-left: 4px solid #007ACC;">
        <p>R√©sultats appara√Ætront ici...</p>
    </div>

    <script>
        function testSimpleInjection() {
            const result = document.getElementById('result');
            
            // Cr√©er un header simple
            const header = document.createElement('header');
            header.className = 'test-header';
            header.innerHTML = '<h2>üéØ Header inject√© avec succ√®s !</h2>';
            
            // L'injecter au d√©but du body
            document.body.insertBefore(header, document.body.firstChild);
            
            result.innerHTML = '<p>‚úÖ Header simple inject√© avec succ√®s !</p>';
            console.log('Header simple inject√©');
        }
        
        async function testNavbarHtmlInjection() {
            const result = document.getElementById('result');
            
            try {
                result.innerHTML = '<p>üîÑ Chargement navbar.html...</p>';
                
                // Fetch navbar.html
                const response = await fetch('components/navbar.html');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const html = await response.text();
                result.innerHTML = `<p>üì° HTML re√ßu (${html.length} caract√®res)</p>`;
                
                // Cr√©er un container temporaire
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = html;
                
                // Injecter chaque √©l√©ment au d√©but du body
                const firstChild = document.body.firstChild;
                while (tempDiv.firstChild) {
                    document.body.insertBefore(tempDiv.firstChild, firstChild);
                }
                
                result.innerHTML += '<p>‚úÖ navbar.html inject√© avec succ√®s !</p>';
                result.innerHTML += `<p>üîç Header pr√©sent: ${!!document.querySelector('header')}</p>`;
                result.innerHTML += `<p>üîç Menu overlay pr√©sent: ${!!document.querySelector('.mobile-menu-overlay')}</p>`;
                
                console.log('navbar.html inject√©');
                
            } catch (error) {
                result.innerHTML = `<p>‚ùå Erreur: ${error.message}</p>`;
                console.error('Erreur:', error);
            }
        }
    </script>
</body>
</html>
