<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration - Certicam</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-bold-rounded/css/uicons-bold-rounded.css">
    
    <!-- Script d'initialisation universel Certicam -->
    <script src="js/certicam-init.js"></script>
</head>
<body>
    <!-- La navbar sera chargée automatiquement par certicam-init.js -->

    <main class="admin-main">
        <div class="admin-container">
            <!-- En-tête de la page -->
            <div class="admin-header">
                <h1>Bienvenue dans votre espace administrateur</h1>
            </div>

            <!-- Section de recherche et actions -->
            <div class="admin-actions">
                <div class="search-section">
                    <div class="search-input-container">
                        <i class="fi fi-rr-search search-icon"></i>
                        <input type="text" id="admin-search" placeholder="Rechercher par nom d'utilisateur">
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn-filters" id="admin-filters">
                        <i class="fi fi-rr-filter"></i>
                        Filtres
                    </button>
                    <button class="btn-primary" id="add-user">
                        <i class="fi fi-rr-plus"></i>
                        Ajouter utilisateur
                    </button>
                </div>
            </div>

            <!-- Tableau des utilisateurs -->
            <div class="admin-table-container">
                <div class="table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th class="sortable" data-column="name">Utilisateur</th>
                                <th class="sortable" data-column="access">Niveau d'accès</th>
                                <th class="sortable" data-column="lastActivity">Dernière activité <i class="bi bi-arrow-down"></i></th>
                                <th class="sortable" data-column="dateAdded">Date d'ajout</th>
                                <th class="actions-column"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="user-info">
                                        <img src="img/coco-profile.jpg" alt="Rico Tangana" class="user-avatar">
                                        <div class="user-details">
                                            <h4>Rico Tangana</h4>
                                            <p class="user-email">ricotangana@banquexyz.com</p>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="access-badge admin">Admin</span>
                                </td>
                                <td>16 Juin 2025 - 12:34</td>
                                <td>11 Mai 2025</td>
                                <td class="actions">
                                    <button class="action-btn edit" title="Modifier">
                                        <i class="fi fi-rr-edit"></i>
                                    </button>
                                    <button class="action-btn delete" title="Supprimer">
                                        <i class="fi fi-rr-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="user-info">
                                        <img src="img/coco-profile.jpg" alt="Raphael Onana" class="user-avatar">
                                        <div class="user-details">
                                            <h4>Raphael Onana</h4>
                                            <p class="user-email">raphael.onana@banquexyz.com</p>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="access-badge agent">Agent</span>
                                </td>
                                <td>16 Juin 2025 - 17:25</td>
                                <td>11 Mai 2025</td>
                                <td class="actions">
                                    <button class="action-btn edit" title="Modifier">
                                        <i class="fi fi-rr-edit"></i>
                                    </button>
                                    <button class="action-btn delete" title="Supprimer">
                                        <i class="fi fi-rr-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="user-info">
                                        <img src="img/coco-profile.jpg" alt="Joel Benini" class="user-avatar">
                                        <div class="user-details">
                                            <h4>Joel Benini</h4>
                                            <p class="user-email">joel.benini@banquexyz.com</p>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="access-badge agent">Agent</span>
                                </td>
                                <td>16 Juin 2025 - 15:03</td>
                                <td>11 Mai 2025</td>
                                <td class="actions">
                                    <button class="action-btn edit" title="Modifier">
                                        <i class="fi fi-rr-edit"></i>
                                    </button>
                                    <button class="action-btn delete" title="Supprimer">
                                        <i class="fi fi-rr-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="user-info">
                                        <img src="img/coco-profile.jpg" alt="Henriette Kong" class="user-avatar">
                                        <div class="user-details">
                                            <h4>Henriette Kong</h4>
                                            <p class="user-email">henriette.kong@banquexyz.com</p>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="access-badge agent">Agent</span>
                                </td>
                                <td>16 Juin 2025 - 12:40</td>
                                <td>11 Mai 2025</td>
                                <td class="actions">
                                    <button class="action-btn edit" title="Modifier">
                                        <i class="fi fi-rr-edit"></i>
                                    </button>
                                    <button class="action-btn delete" title="Supprimer">
                                        <i class="fi fi-rr-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Statistiques -->
            <div class="admin-stats">
                <span class="stats-text">04 Utilisateurs (01 Admin, 03 agents)</span>
            </div>
        </div>
    </main>

    <!-- Modal d'ajout/modification utilisateur -->
    <div class="modal-overlay" id="user-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Ajouter un utilisateur</h3>
                <button class="modal-close" id="close-modal">&times;</button>
            </div>
            
            <div class="modal-content">
                <form id="user-form">
                    <div class="form-group">
                        <label for="user-name">Nom complet</label>
                        <input type="text" id="user-name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-email">Adresse email</label>
                        <input type="email" id="user-email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-address">Adresse</label>
                        <input type="text" id="user-address" name="address" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-password">Mot de passe</label>
                        <input type="password" id="user-password" name="password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="access-level">Niveau d'accès</label>
                        <select id="access-level" name="access" required>
                            <option value="">Sélectionner un niveau</option>
                            <option value="admin">Admin</option>
                            <option value="agent">Agent</option>
                        </select>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary" id="cancel-user">Annuler</button>
                <button class="btn-primary" id="save-user">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Marquer la page admin comme active quand la navbar est chargée
        document.addEventListener('navbarLoaded', () => {
            if (window.Certicam) {
                window.Certicam.setActivePage('admin.html');
            }
        });
    </script>
    <script src="js/admin.js"></script>
</body>
</html>
