<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Modal Admin Fixed</title>
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.0.0/uicons-bold-rounded/css/uicons-bold-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <style>
        body { padding: 40px; }
        .test-section { 
            background: #f8f9fa; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px; 
        }
        /* Force modal visibility */
        .modal-overlay.show {
            display: flex !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 99999 !important;
        }
    </style>
</head>
<body>
    <h1>üîß Test Modal Admin Corrig√©</h1>
    
    <div class="test-section">
        <h3>Tests des Modales Admin</h3>
        
        <button class="btn-primary add-user-btn" id="add-user">
            <i class="fi fi-rr-plus"></i>
            <span>Ajouter utilisateur</span>
        </button>
        
        <button class="btn-secondary" onclick="directModalTest()">
            Test Direct Modal
        </button>
        
        <button class="btn-secondary" onclick="showFilterModal()">
            Modal Filtres
        </button>
    </div>

    <!-- User Management Modal -->
    <div class="modal-overlay" id="userModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">
                    <h3 id="modal-title">Ajouter un utilisateur</h3>
                    <p class="modal-subtitle">Remplissez les informations ci-dessous</p>
                </div>
                <button class="modal-close" id="close-modal">
                    <i class="fi fi-rr-cross"></i>
                </button>
            </div>
            
            <div class="modal-content">
                <form id="user-form" class="user-form">
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="user-name" class="input-label">Nom complet</label>
                            <input type="text" id="user-name" name="name" class="form-input" placeholder="Ex: Jean Dupont" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="user-email" class="input-label">Adresse email</label>
                            <input type="email" id="user-email" name="email" class="form-input" placeholder="Ex: jean.dupont@banque.com" required>
                        </div>
                        
                        <div class="input-group full-width">
                            <label for="user-address" class="input-label">Adresse compl√®te</label>
                            <input type="text" id="user-address" name="address" class="form-input" placeholder="Ex: 123 Rue des Banques, Yaound√©" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="user-password" class="input-label">Mot de passe</label>
                            <input type="password" id="user-password" name="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="access-level" class="input-label">Niveau d'acc√®s</label>
                            <select id="access-level" name="access" class="form-select" required>
                                <option value="">S√©lectionner un niveau</option>
                                <option value="admin">Administrateur</option>
                                <option value="agent">Agent</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary" id="cancel-user">
                    <span>Annuler</span>
                </button>
                <button class="btn-primary" id="save-user">
                    <i class="fi fi-rr-check"></i>
                    <span>Enregistrer</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Filter Modal -->
    <div class="modal-overlay" id="filterModal">
        <div class="modal-container" style="max-width: 400px;">
            <div class="modal-header">
                <div class="modal-title">
                    <h3>Filtrer les utilisateurs</h3>
                    <p class="modal-subtitle">S√©lectionnez vos crit√®res de filtrage</p>
                </div>
                <button class="modal-close" id="close-filter-modal">
                    <i class="fi fi-rr-cross"></i>
                </button>
            </div>
            
            <div class="modal-content">
                <div class="form-grid">
                    <div class="input-group">
                        <label for="filter-access" class="input-label">Niveau d'acc√®s</label>
                        <select id="filter-access" class="form-select">
                            <option value="">Tous les niveaux</option>
                            <option value="admin">Administrateur</option>
                            <option value="agent">Agent</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="filter-activity" class="input-label">Statut d'activit√©</label>
                        <select id="filter-activity" class="form-select">
                            <option value="">Tous les statuts</option>
                            <option value="active">Actifs</option>
                            <option value="inactive">Inactifs</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary" id="reset-filters">
                    <span>R√©initialiser</span>
                </button>
                <button class="btn-primary" id="apply-filters">
                    <i class="fi fi-rr-check"></i>
                    <span>Appliquer</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Test direct sans d√©pendance
        function directModalTest() {
            console.log('Test direct du modal...');
            const modal = document.getElementById('userModal');
            if (modal) {
                modal.classList.add('show');
                console.log('Modal show class added');
            }
        }
        
        function showFilterModal() {
            console.log('Test modal filtres...');
            const modal = document.getElementById('filterModal');
            if (modal) {
                modal.classList.add('show');
                console.log('Filter modal show class added');
            }
        }
        
        // Fermeture des modales
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay') || 
                e.target.classList.contains('modal-close') || 
                e.target.id === 'cancel-user' ||
                e.target.id === 'close-modal' ||
                e.target.id === 'close-filter-modal') {
                
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.classList.remove('show');
                });
            }
        });
        
        console.log('Test modal admin loaded');
    </script>
    
    <script src="js/admin.js"></script>
</body>
</html>